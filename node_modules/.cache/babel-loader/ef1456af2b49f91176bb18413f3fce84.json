{"ast":null,"code":"import _slicedToArray from\"C:/Users/yanis/Documents/Dev/React/blanchisserie/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{FontAwesomeIcon}from\"@fortawesome/react-fontawesome\";import{faVideo}from\"@fortawesome/free-solid-svg-icons\";import{Link,useParams}from\"react-router-dom\";import json from\"../users.json\";import Modal from\"../components/Modal\";import{useState}from\"react\";import{useEffect}from\"react\";import Logo from\"../components/Logo\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Lavage=function Lavage(){var _useParams=useParams(),id=_useParams.id;var userData=null;for(var i=0;i<json.length;i++){if(json[i][\"id\"]==id){userData=json[i];break;}}var url=new URLSearchParams(window.location.pathname).toString().split(\"%2F\");var _useState=useState(false),_useState2=_slicedToArray(_useState,2),openModal=_useState2[0],setOpenModal=_useState2[1];useEffect(function(){document.addEventListener(\"mousedown\",function(){setOpenModal(false);});});var sendData=function sendData(e){e.preventDefault();var el=document.getElementById(\"screen\");var linkUrl=null;fetch(\"/data/config.json\").then(function(responseUrl){return responseUrl.json();}).then(function(resultUrl){linkUrl=resultUrl.api.ogirys.url+\"?code=\"+document.getElementById(\"myInput\").value+\"&usager=\"+userData.id+\"&atelier=\"+url[2];fetch(linkUrl,{mode:\"cors\"}).then(function(response){return response.json();}).then(function(result){var arr=Object.keys(result);if(arr.includes(\"errors\")){el.className=\"w-screen min-h-screen flex justify-center items-center bg-red-500 flex-col space-y-28 scroll-smooth\";setTimeout(function(){el.className=\"w-screen min-h-screen flex justify-center items-center bg-igray flex-col space-y-28 scroll-smooth\";},250);}else{el.className=\"w-screen min-h-screen flex justify-center items-center bg-emerald-500 flex-col space-y-28 scroll-smooth\";setTimeout(function(){el.className=\"w-screen min-h-screen flex justify-center items-center bg-igray flex-col space-y-28 scroll-smooth\";},250);}document.getElementById(\"myInput\").value=\"\";});});};useEffect(function(){var panel=document.getElementById(\"resultPanel\");if(openModal==true){panel.className=\"blur-sm\";}else{panel.className=\"\";}},[openModal]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Modal,{open:openModal}),/*#__PURE__*/_jsxs(\"div\",{className:\"blur-sm\",id:\"resultPanel\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-center items-center gap-7\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"shadow w-20 h-20 rounded-full object-cover\",src:\"/assets/\"+userData.picture,alt:userData.group}),/*#__PURE__*/_jsx(\"p\",{children:userData.name+\" \"+userData.lastName}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute -top-5 right-28\",children:/*#__PURE__*/_jsx(Logo,{})})]}),/*#__PURE__*/_jsxs(\"section\",{className:\"container p-8 grid grid-cols-1\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-center text-6xl\",children:userData.ateliers[url[2]].name}),/*#__PURE__*/_jsx(\"p\",{className:\"text-center\",children:userData.ateliers[1].instructions}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center p-3\",children:/*#__PURE__*/_jsx(FontAwesomeIcon,{className:\"fa-solid fa-user text-[70px] text-indigo-600 hover:text-amber-400\",onClick:function onClick(){return setOpenModal(true);},icon:faVideo})})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-white p-10 rounded-lg shadow w-96\",children:/*#__PURE__*/_jsxs(\"form\",{action:\"\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-5\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block mb-2 font-bold text-gray-600\",children:\"CODE BAR\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"myInput\",className:\"border border-gray-300 shadow p-3 w-full rounded mb-\",autoFocus:true,onKeyDown:function onKeyDown(e){return e.key===\"Enter\"&&sendData(e);}})]}),/*#__PURE__*/_jsx(Link,{to:\"../rate/\"+url[2]+\"/\"+userData.id,children:/*#__PURE__*/_jsx(\"button\",{className:\"block w-full bg-orange-500 text-white font-bold p-4 rounded-lg\",children:\"QUITTER\"})})]})})})})]})]});};export default Lavage;","map":{"version":3,"names":["FontAwesomeIcon","faVideo","Link","useParams","json","Modal","useState","useEffect","Logo","Lavage","id","userData","i","length","url","URLSearchParams","window","location","pathname","toString","split","openModal","setOpenModal","document","addEventListener","sendData","e","preventDefault","el","getElementById","linkUrl","fetch","then","responseUrl","resultUrl","api","ogirys","value","mode","response","result","arr","Object","keys","includes","className","setTimeout","panel","picture","group","name","lastName","ateliers","instructions","key"],"sources":["C:/Users/yanis/Documents/Dev/React/blanchisserie/src/pages/Atelier.jsx"],"sourcesContent":["import { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faVideo } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { Link, useParams } from \"react-router-dom\";\r\nimport json from \"../users.json\";\r\nimport Modal from \"../components/Modal\";\r\nimport { useState } from \"react\";\r\nimport { useEffect } from \"react\";\r\nimport Logo from \"../components/Logo\";\r\n\r\nconst Lavage = () => {\r\n  const { id } = useParams();\r\n  let userData = null;\r\n  for (let i = 0; i < json.length; i++) {\r\n    if (json[i][\"id\"] == id) {\r\n      userData = json[i];\r\n      break;\r\n    }\r\n  }\r\n\r\n  const url = new URLSearchParams(window.location.pathname)\r\n    .toString()\r\n    .split(\"%2F\");\r\n\r\n  const [openModal, setOpenModal] = useState(false);\r\n\r\n  useEffect(() => {\r\n    document.addEventListener(\"mousedown\", () => {\r\n      setOpenModal(false);\r\n    });\r\n  });\r\n\r\n  const sendData = (e) => {\r\n    e.preventDefault();\r\n    const el = document.getElementById(\"screen\");\r\n    let linkUrl = null;\r\n\r\n    fetch(\"/data/config.json\")\r\n      .then((responseUrl) => {\r\n        return responseUrl.json();\r\n      })\r\n      .then((resultUrl) => {\r\n        linkUrl =\r\n          resultUrl.api.ogirys.url +\r\n          \"?code=\" +\r\n          document.getElementById(\"myInput\").value +\r\n          \"&usager=\" +\r\n          userData.id +\r\n          \"&atelier=\" +\r\n          url[2];\r\n        fetch(linkUrl, {\r\n          mode: \"cors\",\r\n        })\r\n          .then((response) => {\r\n            return response.json();\r\n          })\r\n          .then((result) => {\r\n            let arr = Object.keys(result);\r\n            if (arr.includes(\"errors\")) {\r\n              el.className =\r\n                \"w-screen min-h-screen flex justify-center items-center bg-red-500 flex-col space-y-28 scroll-smooth\";\r\n              setTimeout(() => {\r\n                el.className =\r\n                  \"w-screen min-h-screen flex justify-center items-center bg-igray flex-col space-y-28 scroll-smooth\";\r\n              }, 250);\r\n            } else {\r\n              el.className =\r\n                \"w-screen min-h-screen flex justify-center items-center bg-emerald-500 flex-col space-y-28 scroll-smooth\";\r\n              setTimeout(() => {\r\n                el.className =\r\n                  \"w-screen min-h-screen flex justify-center items-center bg-igray flex-col space-y-28 scroll-smooth\";\r\n              }, 250);\r\n            }\r\n            document.getElementById(\"myInput\").value = \"\";\r\n          });\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    const panel = document.getElementById(\"resultPanel\");\r\n    if (openModal == true) {\r\n      panel.className = \"blur-sm\";\r\n    } else {\r\n      panel.className = \"\";\r\n    }\r\n  }, [openModal]);\r\n\r\n  return (\r\n    <>\r\n      <Modal open={openModal} />\r\n      <div className=\"blur-sm\" id=\"resultPanel\">\r\n        <div className=\"flex justify-center items-center gap-7\">\r\n          <img\r\n            className=\"shadow w-20 h-20 rounded-full object-cover\"\r\n            src={\"/assets/\" + userData.picture}\r\n            alt={userData.group}\r\n          />\r\n          <p>{userData.name + \" \" + userData.lastName}</p>\r\n          <div className=\"absolute -top-5 right-28\">\r\n            <Logo />\r\n          </div>\r\n        </div>\r\n        <section className=\"container p-8 grid grid-cols-1\">\r\n          <h1 className=\"text-center text-6xl\">\r\n            {userData.ateliers[url[2]].name}\r\n          </h1>\r\n          <p className=\"text-center\">{userData.ateliers[1].instructions}</p>\r\n          <div className=\"text-center p-3\">\r\n            <FontAwesomeIcon\r\n              className=\"fa-solid fa-user text-[70px] text-indigo-600 hover:text-amber-400\"\r\n              onClick={() => setOpenModal(true)}\r\n              icon={faVideo}\r\n            />\r\n          </div>\r\n        </section>\r\n\r\n        <div>\r\n          <div>\r\n            <div className=\"bg-white p-10 rounded-lg shadow w-96\">\r\n              <form action=\"\">\r\n                <div className=\"mb-5\">\r\n                  <label className=\"block mb-2 font-bold text-gray-600\">\r\n                    CODE BAR\r\n                  </label>\r\n                  <input\r\n                    type=\"text\"\r\n                    id=\"myInput\"\r\n                    className=\"border border-gray-300 shadow p-3 w-full rounded mb-\"\r\n                    autoFocus\r\n                    onKeyDown={(e) => e.key === \"Enter\" && sendData(e)}\r\n                  />\r\n                </div>\r\n                <Link to={\"../rate/\" + url[2] + \"/\" + userData.id}>\r\n                  <button className=\"block w-full bg-orange-500 text-white font-bold p-4 rounded-lg\">\r\n                    QUITTER\r\n                  </button>\r\n                </Link>\r\n              </form>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Lavage;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}